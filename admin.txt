superuser - vyom_rohila
password - vyom2004




import uuid
import qrcode
import io
from django.core.files.base import ContentFile
from qr_system.models import QRCode  # Adjust according to your app name

def generate_qr_codes(count=10):
    for _ in range(count):
        qr_code_data = str(uuid.uuid4())
        qr = qrcode.QRCode(
            version=1,
            error_correction=qrcode.constants.ERROR_CORRECT_L,
            box_size=10,
            border=4,
        )
        qr.add_data(f"http://127.0.0.1:8000/profile/{qr_code_data}")  # Adjust URL as needed
        qr.make(fit=True)
        
        

        img = qr.make_image(fill_color="black", back_color="white")
        buffer = io.BytesIO()
        img.save(buffer, format="PNG")
        buffer.seek(0)
        
        # Create QR code entry in the database
        qr_code = QRCode(qr_code_data=qr_code_data)
        qr_code.qr_image.save(f"qr_{qr_code_data}.png", ContentFile(buffer.read()), save=False)
        qr_code.save()
        
        print(f"Generated QR Code: {qr_code_data}")

# Call the function to generate 10 QR codes
generate_qr_codes(10)
